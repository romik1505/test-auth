# Сервис авторизации
Для запуска сервиса воспользуйтесь инструкцией ниже.

**Установка:**
Для запуска сервиса потребуется docker 

**Запуск в докер контейнере:**
  - Запускаем docker `make docker-run`
  - Сервис готов к работе

**Локальный запуск:**
 - Загрузим утилиту для миграций `make
   bin-deps` 
  - Создаем БД с названием auth
  - Прогоняем миграции `PG_DSN=postgres://postgres:{ПАРОЛЬ}@localhost:5432/auth?sslmode=disable make db:up`
  - Запускаем сервис `PG_DSN=postgres://postgres:{ПАРОЛЬ}@localhost:5432/auth?sslmode=disable make run`
  - Сервис готов к работе.


**Ссылка для доступа к документации:**
`localhost:8080/swagger/index.html`

Rest маршруты: 
1. Логин пользователя
	Метод  _Post_  localhost:8080/login
	
    Формат _входных данных:_  `{"login": "vasya22", "password": "superPassword"}`
    
    Ограничения: длина пароля от 5 до 50 симоволов

    Формат _выходных данных:_ `{"status":"message", "access_token": "token1", "refresh_token":"token2"}`

2. Регистрация нового пользователя
    Метод *Post* localhost:8080/register 

    Формат _входных данных:_  
    `{"email": "a@ya.ru", "login": "user123", "password": "12345678","phone": "+89992231233"}`

    Ограничения: 
    - логин имеет длину от 5 до 50 символов
    - пароль имеет длину от 5 до 50 символов
    - email имеет валидный формат типа name@domain.ru
    - телефон имеет длину от 5 до 20 символов

    Формат _выходных данных:_ `{"status":"message"}`

